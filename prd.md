## **产品需求文档 (PRD): 光影管家 (Lensfolio)**

| 文档版本 | 修改日期 | 修改人 | 修改内容 |
| :---- | :---- | :---- | :---- |
| V1.0 | 2025-07-25 | Gemini | 初始版本创建 |

### **1\. 产品简介**

#### **1.1 产品名称**

光影管家 (Lensfolio)

#### **1.2 产品愿景**

为摄影爱好者提供一款**纯本地、轻量级、响应迅速**的图片管理工具，让照片的整理和查找变得简单直观。

#### **1.3 目标用户**

* **核心用户**：拥有大量照片（数千至数万张）的摄影爱好者、家庭用户。  
* **用户痛点**：  
  * 不想使用复杂且昂贵的专业软件（如Adobe Lightroom）。  
  * Windows/macOS自带的看图软件功能太弱，无法进行标签、评分等系统化管理。  
  * 担忧云服务的隐私问题和持续的订阅费用，希望数据完全掌握在自己手中。  
  * 照片散落在各种文件夹中，难以根据内容或质量快速找到目标图片。

#### **1.4 核心价值**

* **纯本地，零上传**：所有图片和元数据均存储在用户本地，保障数据隐私和所有权。  
* **非破坏性管理**：绝不修改原始图片文件，所有标签、评分等信息存储在独立的数据库中。  
* **性能优先**：专注于流畅的图片浏览和快速的检索响应。  
* **核心功能驱动**：只包含管理、筛选、查找等最核心的功能，无冗余设计。

### **2\. 功能需求 (Functional Requirements)**

#### **2.1 V1.0 (MVP \- 最小可行产品)**

##### **P0 \- 核心功能模块**

| 功能模块 | 功能描述 / 用户故事 | 验收标准 / 备注 |
| :---- | :---- | :---- |
| **图库创建与导入** | 1\. 作为一个用户，我希望能指定一个或多个本地文件夹作为我的“图库”进行监控。\<br\>2. 作为一个用户，我希望软件能扫描这些文件夹，并将所有图片信息（如缩略图、路径、EXIF）导入到软件数据库中。 | 1\. 支持首次导入整个文件夹。\<br\>2. 支持后续“同步/刷新”文件夹，以识别新增或已删除的图片。\<br\>3. 导入过程在后台进行，不阻塞UI操作。\<br\>4. 支持常见的图片格式：JPG, PNG, HEIC, 以及主流相机的RAW格式 (如 .ARW, .CR2, .NEF) 的预览。 |
| **图片浏览** | 1\. 作为一个用户，我希望能以缩略图网格的形式浏览图库中的所有照片。\<br\>2. 作为一个用户，我希望能双击任意缩略图进入单张大图的沉浸式查看模式。 | 1\. 缩略图加载应该是懒加载（Lazy Loading），以提升性能。\<br\>2. 大图模式支持使用键盘左右箭头切换上一张/下一张。\<br\>3. 支持鼠标滚轮缩放图片。 |
| **元数据管理** | 1\. 作为一个用户，我能为一张或多张图片批量添加/删除**关键词标签 (Keywords/Tags)**。\<br\>2. 作为一个用户，我能为一张或多张图片进行**星级评分 (Rating)**（1-5星）。 | 1\. 在大图或缩略图视图下，都应有清晰的界面来进行标签和评分操作。\<br\>2. 标签支持输入创建，并有自动补全提示已存在的标签。\<br\>3. 所有操作应立即保存到数据库。 |
| **信息展示** | 1\. 作为一个用户，在查看单张图片时，我希望能方便地看到它的基本EXIF信息。 | 1\. 默认显示关键信息：相机型号、镜头、ISO、光圈、快门速度、拍摄日期、图片尺寸。\<br\>2. 提供一个“详细信息”面板，可查看更完整的EXIF数据。 |
| **搜索与筛选** | 1\. 作为一个用户，我希望能根据**星级**筛选照片（如：只看5星照片）。\<br\>2. 作为一个用户，我希望能根据一个或多个**关键词**进行搜索。\<br\>3. 作为一个用户，我希望能按**拍摄日期**（年/月/日）进行筛选。 | 1\. 提供一个常驻的筛选栏/面板。\<br\>2. 关键词搜索支持“与”(AND)逻辑，如搜索 "风景 AND 夜景"。\<br\>3. 筛选条件可以组合使用，如“2025年拍摄的 & 5星的 & 包含‘新加坡’标签的”所有照片。 |
| **图片处理** | 1\. 作为一个用户，我能将不满意的图片从图库中移除。\<br\>2. 作为一个用户，在移除时，我可以选择是“仅从图库移除记录”还是“同时从硬盘删除源文件”。 | 1\. 从硬盘删除操作需要有二次确认弹窗，防止误删。 |

#### **2.2 后续版本规划 (Future Iterations)**

##### **P1 \- 重要功能**

* **颜色标签**：除了星级，提供红黄蓝绿等颜色标签，用于标记处理状态。  
* **文件夹树状视图**：在侧边栏提供一个与操作系统文件结构一致的文件夹树，方便按目录浏览。  
* **批量重命名工具**：提供强大的模板，用于批量重命名文件（如 YYYYMMDD\_事件\_序号.jpg）。  
* **基础编辑功能**：非破坏性的裁剪、旋转、曝光、对比度、饱和度调整。

##### **P2 \- 体验优化**

* **视频文件支持**：导入和预览常见的视频格式（MP4, MOV）。  
* **地图视图**：如果照片包含GPS信息，可以在地图上展示其拍摄位置。  
* **智能相册**：根据预设的规则（如：相机型号是A7M4 & 镜头是50mm F1.8 & 评级大于4星）自动创建和更新的相册。

### **3\. 非功能性需求 (Non-Functional Requirements)**

| 需求类别 | 描述 |
| :---- | :---- |
| **性能** | 1\. 启动应用后，5秒内完成UI加载。\<br\>2. 包含10,000张照片的图库，缩略图滚动时无明显卡顿。\<br\>3. 关键词搜索响应时间应在2秒以内。 |
| **平台** | 首选跨平台方案，应能支持 Windows 10/11 和 macOS。 |
| **数据存储** | 1\. 所有元数据（标签、评分等）和缓存（缩略图）存储在用户指定的单个数据库文件（如 SQLite）和缓存文件夹中。\<br\>2. 用户可以轻松备份这个数据库文件，以迁移或恢复自己的整理成果。 |
| **UI/UX** | 1\. 界面设计遵循现代、简洁、直观的原则，避免信息过载。\<br\>2. 提供浅色和深色两种主题模式。 |
| **安全性** | 1\. 保证应用不会在用户不知情的情况下连接网络或上传任何数据。\<br\>2. 对硬盘的写操作（如删除文件）必须有明确的提示和用户的二次确认。 |

### **4\. 技术栈建议 (Tech Stack Recommendation)**

这是一个可选部分，但可以给开发提供方向。

* **框架 (Framework)**：**Tauri** 或 **Electron**。  
  * **Tauri (推荐)**：使用系统原生WebView，以Rust为后端。性能更好，打包体积更小，更现代化。  
  * **Electron**：使用Chromium和Node.js，生态更成熟，开发资源更丰富。  
* **前端 (Frontend)**：React / Vue / Svelte (根据开发喜好选择)。  
* **数据库 (Database)**：**SQLite**。它是一个轻量级的、基于文件的、无需服务器的SQL数据库，完美契合本地应用的需求。  
* **图像处理库 (Image Processing)**：  
  * **Rust (Tauri后端)**: image-rs 用于读取和处理图像数据。  
  * **Node.js (Electron后端)**: sharp 用于高效生成缩略图和读取EXIF信息。